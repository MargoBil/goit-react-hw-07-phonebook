(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={itemLight:"ContactItem_itemLight__1Q6IE",itemDark:"ContactItem_itemDark__2ZtNY",btnLight:"ContactItem_btnLight__2l2Pl",btnDark:"ContactItem_btnDark__27IqK"}},20:function(t,e,n){t.exports={section:"Section_section__10Yd1",nameLight:"Section_nameLight__1Ii9Z",nameDark:"Section_nameDark__3w-TS"}},21:function(t,e,n){t.exports={box:"Filter_box__346V2",labelLight:"Filter_labelLight__3sCf5",labelDark:"Filter_labelDark__VW3yk"}},33:function(t,e,n){t.exports={list:"ContactList_list__13kfI"}},34:function(t,e,n){t.exports={btnLight:"ThemeButton_btnLight__1iOJf",btnDark:"ThemeButton_btnDark__tlXXq"}},35:function(t,e,n){t.exports=n(64)},64:function(t,e,n){"use strict";n.r(e);var a,c,o=n(0),r=n.n(o),u=n(10),l=n.n(u),i=n(2),m=n(7),h=n(11),s=n(12),b=n(15),f=n(13),d=n(5),p=n(1),_=Object(p.b)("name/addRequest"),g=Object(p.b)("name/addSuccess"),j=Object(p.b)("name/addFailure"),O=Object(p.b)("names/fetchRequest"),C=Object(p.b)("names/fetchSuccess"),v=Object(p.b)("names/fetchFailure"),k=Object(p.b)("name/deleteRequest"),F=Object(p.b)("name/deleteSuccess"),E=Object(p.b)("name/deleteFailure"),L=Object(p.b)("theme/toggleRequest"),N=Object(p.b)("theme/toggleSuccess"),D=Object(p.b)("theme/toggleFailure"),y=Object(p.b)("theme/fetchRequest"),T=Object(p.b)("theme/fetchSuccess"),S=Object(p.b)("theme/fetchFailure"),x=Object(p.b)("name/filter"),w=n(8),q=n.n(w),I={addName:function(t){var e=t.name,n=t.number;return function(t){t(_()),q.a.get("http://localhost:2000/contacts").then((function(a){a.data.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))?alert("This name already exists!"):q.a.post("http://localhost:2000/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(g(n))})).catch((function(e){return t(j(e))}))})).catch((function(t){return t}))}},fetchNames:function(){return function(t){t(O),q.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;t(C(n))})).catch((function(e){return t(v(e))}))}},deleteName:function(t){return function(e){e(k),q.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){e(F(t))})).catch((function(t){return e(E(t))}))}},toggleTheme:function(){return function(t){t(L),q.a.get("http://localhost:2000/theme/").then((function(e){var n;n="Light"===e.data.themeColor?"Dark":"Light",q.a.put("http://localhost:2000/theme/",{themeColor:n}).then((function(e){var n=e.data;t(N(n.themeColor))})).catch((function(e){return t(D(e))}))})).catch((function(t){return t}))}},fetchTheme:function(){return function(t){t(y),q.a.get("http://localhost:2000/theme").then((function(e){var n=e.data;t(T(n.themeColor))})).catch((function(e){return t(S(e))}))}}},P=n(32),A=n.n(P),R=n(9),V=n.n(R),Z={name:"",number:""},B=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state=Object(m.a)({},Z),t.handleSubmit=function(e){e.preventDefault(),t.props.onAddName(t.state),t.setState(Object(m.a)({},Z))},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(d.a)({},a,c))},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.theme.themeColor,e=this.state,n=e.name,a=e.number;return r.a.createElement("form",{className:V.a["form".concat(t)],onSubmit:this.handleSubmit},r.a.createElement("label",{className:V.a["label".concat(t)]},"Name",r.a.createElement("input",{className:V.a.input,type:"text",value:n,name:"name",onChange:this.handleChange})),r.a.createElement("label",{className:V.a["label".concat(t)]},"Number",r.a.createElement(A.a,{className:V.a.input,mask:"999-99-99",maskChar:" ",value:a,name:"number",onChange:this.handleChange})),r.a.createElement("button",{className:V.a["btnForm".concat(t)],type:"submit"},"Add contact"))}}]),n}(o.Component),J={onAddName:I.addName},U=Object(i.b)((function(t){return Object(m.a)({},t)}),J)(B),X=function(t){return t.theme.themeColor},Y=n(6),H=function(t){return t.contacts.items},K=function(t){return t.contacts.filter},M=Object(Y.a)([H,K],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),Q={getAllContacts:H,getContact:function(t,e){var n=H(t).find((function(t){return t.id===e.id}));return{contact:n.name,number:n.number}},getFilter:K,getVisibleContacts:M},W=n(19),z=n.n(W),G=Object(i.b)((function(t,e){return Object(m.a)(Object(m.a)({},Q.getContact(t,e)),{},{theme:X(t)})}),(function(t,e){return{onDeleteContact:function(){return t(I.deleteName(e.id))}}}))((function(t){var e=t.contact,n=t.number,a=t.theme,c=t.onDeleteContact;return r.a.createElement("li",{className:z.a["item".concat(a)]},r.a.createElement("p",null,e,": ",n),r.a.createElement("button",{className:z.a["btn".concat(a)],onClick:c},"Delete"))})),$=n(33),tt=n.n($),et=Object(i.b)((function(t){return{contacts:Q.getVisibleContacts(t)}}))((function(t){var e=t.contacts;return r.a.createElement("ul",{className:tt.a.list},e.map((function(t){var e=t.id;return r.a.createElement(G,{id:e,key:e})})))})),nt=n(20),at=n.n(nt),ct=Object(i.b)((function(t){return{theme:X(t)}}))((function(t){var e=t.title,n=t.theme,a=t.children;return r.a.createElement("section",{className:at.a.section},r.a.createElement("h2",{className:at.a["name".concat(n)]},e),a)})),ot=n(21),rt=n.n(ot),ut={onChange:x},lt=Object(i.b)((function(t){return{value:Q.getFilter(t),theme:X(t)}}),ut)((function(t){var e=t.value,n=t.theme,a=t.onChange;return r.a.createElement("div",{className:rt.a.box},r.a.createElement("label",{className:rt.a["label".concat(n)]},"Find contacts by name",r.a.createElement("input",{value:e,onChange:function(t){var e=t.target;return a(e.value)}})))})),it=n(34),mt=n.n(it),ht={toggleTheme:I.toggleTheme},st=Object(i.b)((function(t){return{theme:X(t)}}),ht)((function(t){var e=t.theme,n=t.toggleTheme;return r.a.createElement("button",{className:mt.a["btn".concat(e)],type:"button",onClick:function(){return n()}},"Theme: ",e)})),bt=Object(i.b)((function(t){return{theme:X(t)}}))((function(t){var e=t.theme,n=t.children,a="Light"===e;return document.body.style.backgroundColor=a?"#ffffff":"#0a4658",r.a.createElement("div",null,n)})),ft=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchNamesToProps(),this.props.onFetchThemeToProps()}},{key:"render",value:function(){var t=this.props.contacts.items.length>1,e=this.props.contacts.items.length>0;return r.a.createElement(bt,null,r.a.createElement(st,null),r.a.createElement(ct,{title:"Phonebook"},r.a.createElement(U,null),t&&r.a.createElement(lt,null)),e&&r.a.createElement(ct,{title:"Contacts"},r.a.createElement(et,null)))}}]),n}(o.Component),dt={onFetchNamesToProps:I.fetchNames,onFetchThemeToProps:I.fetchTheme},pt=Object(i.b)((function(t){return Object(m.a)({},t)}),dt)(ft),_t=n(14),gt=n(3),jt=Object(p.c)([],(a={},Object(d.a)(a,g,(function(t,e){return[].concat(Object(_t.a)(t),[e.payload])})),Object(d.a)(a,C,(function(t,e){return e.payload})),Object(d.a)(a,F,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),a)),Ot=Object(p.c)("",Object(d.a)({},x,(function(t,e){return e.payload}))),Ct=Object(p.c)("Light",(c={},Object(d.a)(c,N,(function(t,e){return e.payload})),Object(d.a)(c,T,(function(t,e){return e.payload})),c)),vt=Object(gt.c)({items:jt,filter:Ot}),kt=Object(gt.c)({themeColor:Ct}),Ft=Object(p.d)(),Et=Object(p.a)({reducer:{contacts:vt,theme:kt},middleware:Object(_t.a)(Ft)});l.a.render(r.a.createElement(i.a,{store:Et},r.a.createElement(pt,null)),document.getElementById("root"))},9:function(t,e,n){t.exports={input:"ContactForm_input__oUVjq",labelLight:"ContactForm_labelLight__3T_79",labelDark:"ContactForm_labelDark__12fvF",formLight:"ContactForm_formLight__t0iH8",formDark:"ContactForm_formDark__3qbLZ",btnFormLight:"ContactForm_btnFormLight__1DEFk",btnFormDark:"ContactForm_btnFormDark__1FL9o",btnForm:"ContactForm_btnForm__5ZoUZ"}}},[[35,1,2]]]);
//# sourceMappingURL=main.66c55066.chunk.js.map